<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Product</title>
<script src="https://code.jquery.com/jquery-3.7.1.slim.js">
	
</script>
</head>
<body>
	<h1>캘로그 베스트 시리얼</h1>
	<!-- 상품 목록 -->
	<ol class="item_list">
		<!-- 순서가 없는 중요하지 않은 목록 ul, 
                               1,2,3같은 순서 필요 ol   -->
		<li>
			<!-- 목록 안의 아이템(항목) -->
			<div class="info">
				<!-- info에 있는 모든 것들을 다 작동하게 하기 위해서
                              만약 이름이 다르면 다 다르게 만들어줘야함              -->
				<strong>호두그래놀라500g</strong> <br>
				<div class="sale">판매가</div>
				<div class="price">6500원</div>
			</div>
		</li>
		<br>
		<li>
			<!-- 목록 안의 아이템(항목) -->
			<div class="info">
				<!-- info에 있는 모든 것들을 다 작동하게 하기 위해서
                              만약 이름이 다르면 다 다르게 만들어줘야함              -->

				<strong>현미그래놀라500g</strong>
				<div class="sale">판매가</div>
				<div class="price">6700원</div>
			</div>
		</li>
		<br>
		<li>
			<!-- 목록 안의 아이템(항목) -->
			<div class="info">
				<!-- info에 있는 모든 것들을 다 작동하게 하기 위해서
                              만약 이름이 다르면 다 다르게 만들어줘야함              -->
				<strong>땅콩그래놀라500g</strong> <br>
				<div class="sale">판매가</div>
				<div class="price">6500원</div>
			</div>
		</li>
	</ol>
	<!-- 선택된 아이템 목록 -->
	<ul class="selected_list">
	</ul>

	<br>
	<!-- 총 가격 -->
	<div class="total_price">
		총: <div id="total_items">0개</div> <br> 
		<div id="total_price_val">0원</div>

	</div>

	<script type="text/javascript">
		$(document).ready(function() { // 위에 있는 과정이 전부다 만들어진 상태에서 해주게 하는 것
			// 각 li 요소를 선택(클릭)했을 때 정보를 출력
			$('.item_list').on('click', 'li .info', function() {
				console.log(this)
				if ($(this).hasClass('selected')) {
					alert('이미 선택한 옵션입니다.');
					return;
				}

				// 선택한 상품 정보 가져오기
				let optionName = $(this).find('strong').text();
				let optionPrice = $(this).find('.price').text();
				console.log('optionName : ' + optionName);
				console.log('optionPrice :' + optionPrice);
				
				 // 선택한 상품 옵션 추가
                $(this).addClass('selected'); // 아래에 나와있는 것들이 추가가 되있으면 공지가 뜨게 하기위한 코드
                let optionItem = $('<li class="option_item"></li>');
                let selectOptionName = $('<div class="option_name"></div>');
                let quantityInput = $('<input type="text" class="quantity_input" value="1">');
                let increaseButton = $('<button class="increase_button">+</button>');
                let decreaseButton = $('<button class="decrease_button">-</button>');
                let removeButton = $('<button class="remove_button">x</button>');

                selectOptionName.text(optionName + ' ' + optionPrice); // 이름과 가격이 뜨도록 설정
                optionItem.append(selectOptionName);
                optionItem.append(quantityInput);
                optionItem.append(increaseButton);
                optionItem.append(decreaseButton);
                optionItem.append(removeButton);

                $('.selected_list').append(optionItem); // 요소 추가 array list처럼 list에 데이터를 넣어서 출력
			}); // item_1ist.on();
		}); // end document()
	</script>

</body>
</html>